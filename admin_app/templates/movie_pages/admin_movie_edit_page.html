{% extends 'layouts/admin_main_layout.html' %}

{% block title %} Edit movies {% endblock %}

{% block style %}
    <style>
        body {
        background-image: linear-gradient(
          to right top,
          #6c7ae0,
          #9899e8,
          #bdb9f0,
          #dfdcf7,
          #ffffff
        );
        height: 100vh;
        min-width: 100%;
      }

        #card{
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%,-50%);
        }

        #add-btn:hover{
            opacity: 0.9;
        }


    </style>

{% endblock %}

{% block content %}

    <div class="container">
        <div class="row">
            <div class="col-12 col-sm-12 col-md-8 mx-auto" id="card">
                <div class="card py-2">
                    <div class="card-body">
                        <h1 class="card-title text-center font-weight-bold" style="color: #7d78ea;">EDIT MOVIES</h1>
                        {% include 'partials/alert.html' %}
                        <form class="form-group" enctype="multipart/form-data" method="post">
                            {% csrf_token %}
                            <label for="title">Title:</label>
                                <input type="text" class="form-control mb-3" name="title" id="title" placeholder="Enter movie title" value="{{movie.title}}">
                            <label for="description">Description:</label>
                                <textarea class="form-control mb-3" rows="3" name="description" id="description" maxlength="185" minlength="10" placeholder="Enter description.Please limit it to 185 characters.">{{movie.description}}</textarea>
                            <label for="rating">Rating:</label>
                                <input type="number" class="form-control col-6 mb-3" name="rating" id="rating" max="5" min="1" step="0.1" value="{{movie.movie_rating}}" placeholder="Enter movie rating between 1 to 5">
                            <label for="thumbnail">Thumbnail:</label><br>
                                <img width="90px" height="50px" src="/media/{{movie.thumbnail}}" alt="{{movie.title}}">
                                <input type="file" class="ml-2 pl-2 mb-3" name="thumbnail" id="thumbnail"><br>
                            <label class="mt-2" for="video">video:</label><br>
                            <video autoplay muted class="float-left" width="95px" height="50px">
                                <source src="/media/{{movie.video}}">
                            </video>
                            <input type="file" class="ml-3 mt-3" name="video" id="video" value="{{movie.video}}"><br>
                            
                                <div class="text-center mt-5" id="btn-group">
                                    <button type="submit" id="add-btn" class="btn text-white mx-4" style="background-color: #7d78ea;padding: 5px 40px;  border-radius: 50px;">Update</button>
                                    <a href="{% url 'get_all_movies' %}" class="btn btn-danger text-white mx-3" style="padding: 5px 40px; border-radius: 50px;">Cancel</a>
                                </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>

{% endblock %}
